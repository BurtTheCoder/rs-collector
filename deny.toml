# cargo-deny configuration for rs-collector

[bans]
# Warn when multiple versions of the same dependency are used
multiple-versions = "warn"
# Allow wildcard dependencies (not recommended for production, but ok for now)
wildcards = "allow"
# List of explicitly disallowed crates
skip = []

[licenses]
# List of explicitly allowed licenses
allow = [
    "MIT",
    "Apache-2.0",
    "Apache-2.0 WITH LLVM-exception",
    "BSD-2-Clause",
    "BSD-3-Clause",
    "ISC",
    "Unicode-DFS-2016",
    "Unicode-3.0",
    "Unlicense",
    "CC0-1.0",
    "GPL-3.0-only",
]

# Confidence threshold for detecting licenses
# Setting to 0.8 means 80% confidence required
confidence-threshold = 0.8
private = { ignore = true }

# Exceptions for specific crates
[[licenses.exceptions]]
# openssl has a complex license but is required for SSH/SFTP
allow = ["OpenSSL"]
name = "openssl"

[[licenses.exceptions]]
# ring is commonly used and has a permissive but complex license
allow = ["LicenseRef-ring"]
name = "ring"

[sources]
# Lint level for crates from unknown registries
unknown-registry = "warn"
# Lint level for crates from unknown git sources
unknown-git = "warn"
# List of allowed registries
allow-registry = ["https://github.com/rust-lang/crates.io-index"]

[advisories]
# Path to the advisory database
db-path = "~/.cargo/advisory-db"
# The URL(s) of the advisory databases to use
db-urls = ["https://github.com/rustsec/advisory-db"]

# Ignore specific advisories
ignore = [
    # Example:
    # "RUSTSEC-2020-0001",
]